{"version":3,"sources":["sortBy.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C;AACzC,WAAO;AADkC,CAA7C;AAGA,QAAQ,OAAR,GAAkB,MAAlB;;AAEA,IAAI,YAAY,QAAQ,kBAAR,CAAhB;;AAEA,IAAI,aAAa,uBAAuB,SAAvB,CAAjB;;AAEA,IAAI,gBAAgB,QAAQ,sBAAR,CAApB;;AAEA,IAAI,iBAAiB,uBAAuB,aAAvB,CAArB;;AAEA,IAAI,OAAO,QAAQ,OAAR,CAAX;;AAEA,IAAI,QAAQ,uBAAuB,IAAvB,CAAZ;;AAEA,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,WAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,SAAS,MAAT,CAAgB,IAAhB,EAAsB,QAAtB,EAAgC,QAAhC,EAA0C;AACtC,KAAC,GAAG,MAAM,OAAV,EAAmB,IAAnB,EAAyB,UAAU,CAAV,EAAa,QAAb,EAAuB;AAC5C,iBAAS,CAAT,EAAY,UAAU,GAAV,EAAe,QAAf,EAAyB;AACjC,gBAAI,GAAJ,EAAS,OAAO,SAAS,GAAT,CAAP;AACT,qBAAS,IAAT,EAAe,EAAE,OAAO,CAAT,EAAY,UAAU,QAAtB,EAAf;AACH,SAHD;AAIH,KALD,EAKG,UAAU,GAAV,EAAe,OAAf,EAAwB;AACvB,YAAI,GAAJ,EAAS,OAAO,SAAS,GAAT,CAAP;AACT,iBAAS,IAAT,EAAe,CAAC,GAAG,WAAW,OAAf,EAAwB,QAAQ,IAAR,CAAa,UAAb,CAAxB,EAAkD,CAAC,GAAG,eAAe,OAAnB,EAA4B,OAA5B,CAAlD,CAAf;AACH,KARD;;AAUA,aAAS,UAAT,CAAoB,IAApB,EAA0B,KAA1B,EAAiC;AAC7B,YAAI,IAAI,KAAK,QAAb;AAAA,YACI,IAAI,MAAM,QADd;AAEA,eAAO,IAAI,CAAJ,GAAQ,CAAC,CAAT,GAAa,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAAhC;AACH;AACJ;AACD,OAAO,OAAP,GAAiB,QAAQ,SAAR,CAAjB","file":"sortBy-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = sortBy;\n\nvar _arrayMap = require('lodash/_arrayMap');\n\nvar _arrayMap2 = _interopRequireDefault(_arrayMap);\n\nvar _baseProperty = require('lodash/_baseProperty');\n\nvar _baseProperty2 = _interopRequireDefault(_baseProperty);\n\nvar _map = require('./map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Sorts a list by the results of running each `coll` value through an async\n * `iteratee`.\n *\n * @name sortBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A function to apply to each item in `coll`.\n * The iteratee is passed a `callback(err, sortValue)` which must be called once\n * it has completed with an error (which can be `null`) and a value to use as\n * the sort criteria. Invoked with (item, callback).\n * @param {Function} callback - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is the items\n * from the original `coll` sorted by the values returned by the `iteratee`\n * calls. Invoked with (err, results).\n * @example\n *\n * async.sortBy(['file1','file2','file3'], function(file, callback) {\n *     fs.stat(file, function(err, stats) {\n *         callback(err, stats.mtime);\n *     });\n * }, function(err, results) {\n *     // results is now the original array of files sorted by\n *     // modified date\n * });\n *\n * // By modifying the callback parameter the\n * // sorting order can be influenced:\n *\n * // ascending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x);\n * }, function(err,result) {\n *     // result callback\n * });\n *\n * // descending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x*-1);    //<- x*-1 instead of x, turns the order around\n * }, function(err,result) {\n *     // result callback\n * });\n */\nfunction sortBy(coll, iteratee, callback) {\n    (0, _map2.default)(coll, function (x, callback) {\n        iteratee(x, function (err, criteria) {\n            if (err) return callback(err);\n            callback(null, { value: x, criteria: criteria });\n        });\n    }, function (err, results) {\n        if (err) return callback(err);\n        callback(null, (0, _arrayMap2.default)(results.sort(comparator), (0, _baseProperty2.default)('value')));\n    });\n\n    function comparator(left, right) {\n        var a = left.criteria,\n            b = right.criteria;\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n}\nmodule.exports = exports['default'];"]}